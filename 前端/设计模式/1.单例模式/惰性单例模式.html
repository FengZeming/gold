<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<button id="b1">生成div1</button>
		<button id="b2">生成div2</button>

		<script>
			var getSinge = function (fn) {
				var result;
				return function () {
					return result || (result = fn.apply(this, arguments));
				}
			};

			//

			var b1 = document.getElementById("b1");
			var b2 = document.getElementById("b2");

			var fnDiv1 = function () {

				var div = document.createElement("div");
				div.innerHTML = '我是div1';
				div.style.display = 'none';
				document.body.appendChild(div);
				return div;

			};

			var createDiv = getSinge(fnDiv1);

			b1.onclick = function () {

				oDiv = createDiv();
				oDiv.style.display = 'block';

			};

			var fnDiv2 = function () {

				var div = document.createElement("div");
				div.innerHTML = '我是div2';
				div.style.display = 'none';
				document.body.appendChild(div);
				return div;

			};

			var createDiv2 = getSinge(fnDiv2);

			b2.onclick = function () {

				oDiv = createDiv2();
				oDiv.style.display = 'block';

			};
		</script>
	</body>

</html>